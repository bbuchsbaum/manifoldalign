% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pseudolabel.R
\name{high_sim_pseudolabels}
\alias{high_sim_pseudolabels}
\title{High-similarity pseudolabels from multi-domain data}
\usage{
high_sim_pseudolabels(
  strata,
  k = 5,
  cos_thresh = 0.97,
  min_size = 2,
  ann_trees = 50,
  verbose = FALSE
)
}
\arguments{
\item{strata}{List produced by multidesign::hyperdesign. Each element 
should have $x (samples x features matrix) and $design (metadata 
data.frame)}

\item{k}{Number of cross-domain neighbors to examine (default: 5)}

\item{cos_thresh}{Minimum cosine similarity threshold (default: 0.97)}

\item{min_size}{Minimum cluster size to retain (default: 2)}

\item{ann_trees}{Number of trees for RcppAnnoy index (default: 50)}

\item{verbose}{Whether to print progress information (default: FALSE)}
}
\value{
Factor vector of pseudolabels with length equal to total number of 
  samples across all domains. NA indicates samples with no confident match.
}
\description{
Generates pseudolabels based on high cosine similarity across different 
domains. Specialized version for multi-domain case.
}
\details{
This function implements the approach described in the pseudolabel 
documentation:
\enumerate{
  \item Pool and L2-normalize all samples across domains
  \item Build approximate nearest neighbor index using angular distance
  \item Find high-similarity cross-domain pairs
  \item Use connected components to form clusters
  \item Filter clusters by minimum size
}
}
\examples{
\donttest{
# Assuming you have multi-domain data
strata <- multidesign::hyperdesign(raw_blocks)
plabs <- high_sim_pseudolabels(strata, k = 5, cos_thresh = 0.98)
table(plabs, useNA = "always")
}

}
